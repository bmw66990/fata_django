# uwsgi_nginx.conf

upstream django {
    server python:8888; # for a web port socket (we'll use this first)
}

# configuration of the server
server {
    listen      80;
    server_name localhost;
    charset     utf-8;

    client_max_body_size 75M;

    location /media  {
        alias /var/www/html/media;
    }

    location /static {
        alias /var/www/html/templates/dist/static;
    }

    location / {
        uwsgi_pass  django;
        include     /etc/nginx/uwsgi_params;
    }

    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
    {
        expires      30d;
        error_log off;
        access_log /dev/null;
    }

    location ~ .*\.(js|css)?$
    {
        expires      12h;
        error_log off;
        access_log /dev/null;
    }

}
